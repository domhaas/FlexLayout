{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./spec/main.ts","webpack:///./src/Attribute.ts","webpack:///./src/AttributeDefinitions.ts","webpack:///./src/DockLocation.ts","webpack:///./src/DropInfo.ts","webpack:///./src/Orientation.ts","webpack:///./src/Rect.ts","webpack:///./src/model/Action.ts","webpack:///./src/model/Actions.ts","webpack:///./src/model/BorderNode.ts","webpack:///./src/model/BorderSet.ts","webpack:///./src/model/Model.ts","webpack:///./src/model/Node.ts","webpack:///./src/model/RowNode.ts","webpack:///./src/model/SplitterNode.ts","webpack:///./src/model/TabNode.ts","webpack:///./src/model/TabSetNode.ts"],"names":[],"mappings":"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","file":"./bundles/tests.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./spec/main.ts\");\n","\nimport Model from \"../src/model/Model\";\nimport Actions from \"../src/model/Actions\";\nimport DockLocation from \"../src/DockLocation\";\n\ndescribe(\"Tree\", function()\n{\n\tit(\"adds a tab to center of empty tabset using add action\", function()\n\t{\n        const model = Model.fromJson(\n            {\n                global: {},\n                layout: {\n                    type: \"row\",\n                    id: \"0\",\n                    children: [\n                        {\n                            type: \"tabset\",\n                            name: \"one\",\n                            id: \"1\",\n                            enableDeleteWhenEmpty: false,\n                            children: []\n                        }\n                    ]\n                }\n            }\n        );\n        model.doAction(Actions.addNode({id:\"2\", name: \"newtab1\", component: \"grid\"}, \"1\", DockLocation.CENTER, -1));\n\n\t\tlet expected :any= {\n            \"global\": {},\n            \n\t\t\t\"layout\": {\n\t\t\t\t\"type\": \"row\",\n\t\t\t\t\"id\": \"0\",\n\t\t\t\t\"children\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"tabset\",\n                        \"name\": \"one\",\n                        \"enableDeleteWhenEmpty\": false,\n                        \"active\": true,\n\t\t\t\t\t\t\"id\": \"1\",\n\t\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"tab\",\n\t\t\t\t\t\t\t\t\"id\":\"2\",\n\t\t\t\t\t\t\t\t\"name\": \"newtab1\",\n\t\t\t\t\t\t\t\t\"component\": \"grid\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n            },\n            \"borders\": []\n\t\t};\n\n        const json = model.toJson();\n\n        expect(json).toEqual(expected);\n\n\t\tconsole.log(JSON.stringify(json, null, \"\\t\"));\n\t})\n\n\t// todo:\n\n\t// adding into tabset with position: 0, middle, end\n\t// adding into rows (ie splitting a tabset)\n\n\t// auto assignment of ids\n\n\t// dividers moving\n\t// moving tabs and tidying tree\n\t// removing tabs and tidying tree\n\t// setting attributes\n\n\n\n});\n\n\n","/** @hidden @internal */\nclass Attribute {\n\n    static ENUM = \"Enum\";\n    static INT = \"Int\";\n    static NUMBER = \"Number\";\n    static STRING = \"String\";\n    static BOOLEAN = \"Boolean\";\n    static ID = \"Id\";\n    static JSON = \"Json\";\n\n    name: string;\n    modelName?: string ;\n    defaultValue: any;\n    alwaysWriteJson?: boolean;\n    type?: string;\n    values: Array<any>;\n    from: number;\n    to: number;\n\n    constructor(name: string, modelName: string | undefined, defaultValue: any, alwaysWriteJson?: boolean) {\n        this.name = name;\n        this.modelName = modelName;\n        this.defaultValue = defaultValue;\n        this.alwaysWriteJson = alwaysWriteJson;\n\n        this.type = undefined;\n        this.values = [];\n        this.from = -99999999;\n        this.to = 99999999;\n    }\n\n    setType(value: string) {\n        this.type = value;\n        return this;\n    }\n\n    setValues(...args: Array<any>) {\n        this.values = args;\n        return this;\n    }\n\n    setFrom(value: number) {\n        this.from = value;\n        return this;\n    }\n\n    setTo(value: number) {\n        this.to = value;\n        return this;\n    }\n}\n\n/** @hidden @internal */\nexport default Attribute;\n","import Attribute from \"./Attribute\";\nimport { JSMap } from \"./Types\";\n\n/** @hidden @internal */\nclass AttributeDefinitions {\n\n    attributes: Array<Attribute>;\n    nameToAttribute: JSMap<Attribute>;\n\n    constructor() {\n        this.attributes = [];\n        this.nameToAttribute = {};\n    }\n\n    addWithAll(name: string, modelName: string | undefined, defaultValue: any, alwaysWriteJson?: boolean) {\n        let attr = new Attribute(name, modelName, defaultValue, alwaysWriteJson);\n        this.attributes.push(attr);\n        this.nameToAttribute[name] = attr;\n        return attr;\n    }\n\n    addInherited(name: string, modelName: string) {\n        return this.addWithAll(name, modelName, undefined, false);\n    }\n\n    add(name: string, defaultValue: any, alwaysWriteJson?: boolean) {\n        return this.addWithAll(name, undefined, defaultValue, alwaysWriteJson);\n    }\n\n    getAttributes() {\n        return this.attributes;\n    }\n\n    getModelName(name: string) {\n        let conversion = this.nameToAttribute[name];\n        if (conversion !== undefined) {\n            return conversion.modelName;\n        }\n        return undefined;\n    }\n\n    toJson(jsonObj: any, obj: any) {\n        this.attributes.forEach((attr) => {\n            const fromValue = obj[attr.name];\n            if (attr.alwaysWriteJson || fromValue !== attr.defaultValue) {\n                jsonObj[attr.name] = fromValue;\n            }\n        });\n    }\n\n    fromJson(jsonObj: any, obj: any) {\n        this.attributes.forEach((attr) => {\n            const fromValue = jsonObj[attr.name];\n            if (fromValue === undefined) {\n                obj[attr.name] = attr.defaultValue;\n            }\n            else {\n                obj[attr.name] = fromValue;\n            }\n        });\n    }\n\n    update(jsonObj: any, obj: any) {\n        this.attributes.forEach((attr) => {\n\n            const fromValue = jsonObj[attr.name];\n            if (fromValue !== undefined) {\n                obj[attr.name] = fromValue;\n            }\n        });\n    }\n\n    setDefaults(obj: any) {\n        this.attributes.forEach((attr) => {\n            obj[attr.name] = attr.defaultValue;\n        });\n    }\n\n}\n\n/** @hidden @internal */\nexport default AttributeDefinitions;\n","import Rect from \"./Rect\";\nimport Orientation from \"./Orientation\";\nimport { JSMap } from \"./Types\";\n\nclass DockLocation {\n\n    static values: JSMap<DockLocation> = {};\n    static TOP = new DockLocation(\"top\", Orientation.VERT, 0);\n    static BOTTOM = new DockLocation(\"bottom\", Orientation.VERT, 1);\n    static LEFT = new DockLocation(\"left\", Orientation.HORZ, 0);\n    static RIGHT = new DockLocation(\"right\", Orientation.HORZ, 1);\n    static CENTER = new DockLocation(\"center\", Orientation.VERT, 0);\n\n    /** @hidden @internal */\n    _name: string;\n    /** @hidden @internal */\n    _orientation: Orientation;\n    /** @hidden @internal */\n    _indexPlus: number;\n\n    /** @hidden @internal */\n    constructor(name: string, orientation: Orientation, indexPlus: number) {\n        this._name = name;\n        this._orientation = orientation;\n        this._indexPlus = indexPlus;\n        DockLocation.values[this._name] = this;\n    }\n\n    getName() {\n        return this._name;\n    }\n\n    getOrientation() {\n        return this._orientation;\n    }\n\n    /** @hidden @internal */\n    static getByName(name: string): DockLocation {\n        return DockLocation.values[name];\n    }\n\n    /** @hidden @internal */\n    static getLocation(rect: Rect, x: number, y: number) {\n        if (x < rect.x + rect.width / 4) {\n            return DockLocation.LEFT;\n        }\n\n        else if (x > rect.getRight() - rect.width / 4) {\n            return DockLocation.RIGHT;\n        }\n\n        else if (y < rect.y + rect.height / 4) {\n            return DockLocation.TOP;\n        }\n\n        else if (y > rect.getBottom() - rect.height / 4) {\n            return DockLocation.BOTTOM;\n        }\n        else {\n            return DockLocation.CENTER;\n        }\n    }\n\n    /** @hidden @internal */\n    getDockRect(r: Rect) {\n        if (this === DockLocation.TOP) {\n            return new Rect(r.x, r.y, r.width, r.height / 2);\n        }\n        else if (this === DockLocation.BOTTOM) {\n            return new Rect(r.x, r.getBottom() - r.height / 2, r.width, r.height / 2);\n        }\n        if (this === DockLocation.LEFT) {\n            return new Rect(r.x, r.y, r.width / 2, r.height);\n        }\n        else if (this === DockLocation.RIGHT) {\n            return new Rect(r.getRight() - r.width / 2, r.y, r.width / 2, r.height);\n        }\n        else {\n            return r.clone();\n        }\n    }\n\n    /** @hidden @internal */\n    split(rect: Rect, size: number) {\n        if (this === DockLocation.TOP) {\n            let r1 = new Rect(rect.x, rect.y, rect.width, size);\n            let r2 = new Rect(rect.x, rect.y + size, rect.width, rect.height - size);\n            return { start: r1, end: r2 };\n        }\n        else if (this === DockLocation.LEFT) {\n            let r1 = new Rect(rect.x, rect.y, size, rect.height);\n            let r2 = new Rect(rect.x + size, rect.y, rect.width - size, rect.height);\n            return { start: r1, end: r2 };\n        }\n        if (this === DockLocation.RIGHT) {\n            let r1 = new Rect(rect.getRight() - size, rect.y, size, rect.height);\n            let r2 = new Rect(rect.x, rect.y, rect.width - size, rect.height);\n            return { start: r1, end: r2 };\n        }\n        else {//if (this === DockLocation.BOTTOM) {\n            let r1 = new Rect(rect.x, rect.getBottom() - size, rect.width, size);\n            let r2 = new Rect(rect.x, rect.y, rect.width, rect.height - size);\n            return { start: r1, end: r2 };\n        }\n    }\n\n    /** @hidden @internal */\n    reflect() {\n        if (this === DockLocation.TOP) {\n            return DockLocation.BOTTOM\n        }\n        else if (this === DockLocation.LEFT) {\n            return DockLocation.RIGHT\n        }\n        if (this === DockLocation.RIGHT) {\n            return DockLocation.LEFT\n        }\n        else { //if (this === DockLocation.BOTTOM) {\n            return DockLocation.TOP\n        }\n    }\n\n    toString() {\n        return \"(DockLocation: name=\" + this._name + \", orientation=\" + this._orientation + \")\";\n    }\n}\n\n\nexport default DockLocation;\n\n","import Rect from \"./Rect\";\nimport Node from \"./model/Node\";\nimport DockLocation from \"./DockLocation\";\nimport IDropTarget from \"./model/IDropTarget\";\n\nclass DropInfo {\n    node: (Node & IDropTarget);\n    rect: Rect;\n    location: DockLocation;\n    index: number;\n    className: string;\n\n    constructor(node: (Node & IDropTarget), rect: Rect, location: DockLocation, index: number, className: string) {\n        this.node = node;\n        this.rect = rect;\n        this.location = location;\n        this.index = index;\n        this.className = className;\n    }\n}\nexport default DropInfo;","class Orientation {\n\n    static HORZ = new Orientation(\"horz\");\n    static VERT = new Orientation(\"vert\");\n\n     /** @hidden @internal */\n     private _name: string;\n\n     /** @hidden @internal */\n     private constructor(name: string) {\n        this._name = name;\n    }\n\n    static flip(from: Orientation) {\n        if (from === Orientation.HORZ) {\n            return Orientation.VERT;\n        }\n        else {\n            return Orientation.HORZ;\n        }\n    }\n\n    toString() {\n        return this._name;\n    }\n}\n\nexport default Orientation;","import Orientation from \"./Orientation\";\nimport { JSMap } from \"./Types\";\n\nclass Rect {\n\n    public x: number;\n    public y: number;\n    public width: number;\n    public height: number;\n\n    constructor(x: number, y: number, width: number, height: number) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n\n    static empty() {\n        return new Rect(0, 0, 0, 0);\n    }\n\n    clone() {\n        return new Rect(this.x, this.y, this.width, this.height);\n    }\n\n    equals(rect: Rect) {\n        if (this.x === rect.x\n            && this.y === rect.y\n            && this.width === rect.width\n            && this.height === rect.height) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    getBottom() {\n        return this.y + this.height;\n    }\n\n    getRight() {\n        return this.x + this.width;\n    }\n\n    positionElement(element: HTMLElement) {\n        this.styleWithPosition(element.style);\n    }\n\n    styleWithPosition(style: JSMap<any>) {\n        style.left = this.x + \"px\";\n        style.top = this.y + \"px\";\n        style.width = Math.max(0, this.width) + \"px\"; // need Math.max to prevent -ve, cause error in IE\n        style.height = Math.max(0, this.height) + \"px\";\n        style.position = \"absolute\";\n        return style;\n    }\n\n    contains(x: number, y: number) {\n        if (this.x <= x && x <= this.getRight()\n            && this.y <= y && y <= this.getBottom()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    removeInsets(insets : {top: number, left: number, bottom: number, right: number}) {\n        return new Rect(\n            this.x + insets.left,\n            this.y + insets.top,\n            Math.max(0, this.width - insets.left - insets.right),\n            Math.max(0, this.height - insets.top - insets.bottom));\n    }\n\n    centerInRect(outerRect: Rect) {\n        this.x = (outerRect.width - this.width) / 2;\n        this.y = (outerRect.height - this.height) / 2;\n    }\n\n    /** @hidden @internal */\n    _getSize(orientation: Orientation) {\n        let prefSize = this.width;\n        if (orientation === Orientation.VERT) {\n            prefSize = this.height;\n        }\n        return prefSize;\n    }\n\n    toString() {\n        return \"(Rect: x=\" + this.x + \", y=\" + this.y + \", width=\" + this.width + \", height=\" + this.height + \")\";\n    }\n}\n\nexport default Rect;\n\n","import { JSMap } from \"../Types\";\n\nclass Action {\n    type: string;\n    data: JSMap<any>;\n\n    constructor(type: string, data:JSMap<any>) {\n        this.type = type;\n        this.data = data;\n    }\n}\n\nexport default Action;","import DockLocation from \"../DockLocation\";\nimport Action from \"./Action\";\n\n/**\n * The Action creator class for FlexLayout model actions\n */\nclass Actions {\n\n    static ADD_NODE = \"FlexLayout_AddNode\";\n    static MOVE_NODE = \"FlexLayout_MoveNode\";\n    static DELETE_TAB = \"FlexLayout_DeleteTab\";\n    static RENAME_TAB = \"FlexLayout_RenameTab\";\n    static SELECT_TAB = \"FlexLayout_SelectTab\";\n    static SET_ACTIVE_TABSET = \"FlexLayout_SetActiveTabset\";\n    static ADJUST_SPLIT = \"FlexLayout_AdjustSplit\";\n    static ADJUST_BORDER_SPLIT = \"FlexLayout_AdjustBorderSplit\";\n    static MAXIMIZE_TOGGLE = \"FlexLayout_MaximizeToggle\";\n    static UPDATE_MODEL_ATTRIBUTES = \"FlexLayout_UpdateModelAttributes\";\n    static UPDATE_NODE_ATTRIBUTES = \"FlexLayout_UpdateNodeAttributes\";\n\n    /**\n     * Adds a tab node to the given tabset node\n     * @param json the json for the new tab node e.g {type:\"tab\", component:\"table\"}\n     * @param toNodeId the new tab node will be added to the tabset with this node id\n     * @param location the location where the new tab will be added, one of the DockLocation enum values.\n     * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\n     * @returns {{type: (string|string), json: *, toNode: *, location: (*|string), index: *}}\n     */\n    static addNode(json: any, toNodeId: string, location: DockLocation, index: number): Action {\n        return new Action(Actions.ADD_NODE, { json: json, toNode: toNodeId, location: location.getName(), index: index });\n    }\n\n    /**\n     * Moves a node (tab or tabset) from one location to another\n     * @param fromNodeId the id of the node to move\n     * @param toNodeId the id of the node to receive the moved node\n     * @param location the location where the moved node will be added, one of the DockLocation enum values.\n     * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\n     * @returns {{type: (string|string), fromNode: *, toNode: *, location: (*|string), index: *}}\n     */\n    static moveNode(fromNodeId: string, toNodeId: string, location: DockLocation, index: number): Action {\n        return new Action(Actions.MOVE_NODE, {\n            fromNode: fromNodeId,\n            toNode: toNodeId,\n            location: location.getName(),\n            index: index\n        });\n    }\n\n    /**\n     * Deletes a tab node from the layout\n     * @param tabNodeId the id of the node to delete\n     * @returns {{type: (string|string), node: *}}\n     */\n    static deleteTab(tabNodeId: string): Action {\n        return new Action(Actions.DELETE_TAB, { node: tabNodeId });\n    }\n\n    /**\n     * Change the given nodes tab text\n     * @param tabNodeId the id of the node to rename\n     * @param text the test of the tab\n     * @returns {{type: (string|string), node: *, text: *}}\n     */\n    static renameTab(tabNodeId: string, text: string): Action {\n        return new Action(Actions.RENAME_TAB, { node: tabNodeId, text: text });\n    }\n\n    /**\n     * Selects the given tab in its parent tabset\n     * @param tabNodeId the id of the node to set selected\n     * @returns {{type: (string|string), tabNode: *}}\n     */\n    static selectTab(tabNodeId: string): Action {\n        return new Action(Actions.SELECT_TAB, { tabNode: tabNodeId });\n    }\n\n    /**\n     * Set the given tabset node as the active tabset\n     * @param tabsetNodeId the id of the tabset node to set as active\n     * @returns {{type: (string|string), tabsetNode: *}}\n     */\n    static setActiveTabset(tabsetNodeId: string): Action {\n        return new Action(Actions.SET_ACTIVE_TABSET, { tabsetNode: tabsetNodeId });\n    }\n\n    /**\n     * Adjust the splitter between two tabsets\n     * @example\n     *  Actions.adjustSplit({node1: \"1\", weight1:30, pixelWidth1:300, node2: \"2\", weight2:70, pixelWidth2:700});\n     *\n     * @param splitSpec an object the defines the new split between two tabsets, see example below.\n     * @returns {{type: (string|string), node1: *, weight1: *, pixelWidth1: *, node2: *, weight2: *, pixelWidth2: *}}\n     */\n    static adjustSplit(splitSpec: { node1Id: string, weight1: number, pixelWidth1: number, node2Id: string, weight2: number, pixelWidth2: number }): Action {\n        const node1 = splitSpec.node1Id;\n        const node2 = splitSpec.node2Id;\n\n        return new Action(Actions.ADJUST_SPLIT, {\n            node1: node1, weight1: splitSpec.weight1, pixelWidth1: splitSpec.pixelWidth1,\n            node2: node2, weight2: splitSpec.weight2, pixelWidth2: splitSpec.pixelWidth2\n        });\n    }\n\n    static adjustBorderSplit(nodeId: string, pos: number): Action {\n        return new Action(Actions.ADJUST_BORDER_SPLIT, { node: nodeId, pos: pos });\n    }\n\n    /**\n     * Maximizes the given tabset\n     * @param tabsetNodeId the id of the tabset to maximize\n     * @returns {{type: (string|string), node: *}}\n     */\n    static maximizeToggle(tabsetNodeId: string): Action {\n        return new Action(Actions.MAXIMIZE_TOGGLE, { node: tabsetNodeId });\n    }\n\n    /**\n     * Updates the global model jsone attributes\n     * @param attributes the json for the model attributes to update (merge into the existing attributes)\n     * @returns {{type: (string|string), json: *}}\n     */\n    static updateModelAttributes(attributes: any): Action {\n        return new Action(Actions.UPDATE_MODEL_ATTRIBUTES, { json: attributes });\n    }\n\n    /**\n     * Updates the given nodes json attributes\n     * @param nodeId the id of the node to update\n     * @param attributes the json attributes to update (merge with the existing attributes)\n     * @returns {{type: (string|string), node: *, json: *}}\n     */\n    static updateNodeAttributes(nodeId: string, attributes: any): Action {\n        return new Action(Actions.UPDATE_NODE_ATTRIBUTES, { node: nodeId, json: attributes });\n    }\n}\n\nexport default Actions;\n\n","import Node from \"./Node\";\nimport Model from \"./Model\";\nimport Rect from \"../Rect\";\nimport DockLocation from \"../DockLocation\";\nimport Orientation from \"../Orientation\";\nimport DropInfo from \"../DropInfo\";\nimport TabNode from \"./TabNode\";\nimport TabSetNode from \"./TabSetNode\";\nimport SplitterNode from \"./SplitterNode\";\nimport Attribute from \"../Attribute\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport IDropTarget from \"./IDropTarget\";\nimport IDraggable from \"./IDraggable\";\n\nclass BorderNode extends Node implements IDropTarget{\n\tpublic static readonly TYPE = \"border\";\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = BorderNode._createAttributeDefinitions();\n\n    /** @hidden @internal */\n\tprivate _contentRect?: Rect;\n    /** @hidden @internal */\n\tprivate _tabHeaderRect?: Rect;\n    /** @hidden @internal */\n\tprivate _location: DockLocation;\n    /** @hidden @internal */\n\tprivate _drawChildren: Array<Node>;\n    /** @hidden @internal */\n\tprivate _adjustedSize: number = 0;\n\n\t/** @hidden @internal */\n\tconstructor(location: DockLocation, json: any, model: Model) {\n\t\tsuper(model);\n\n\t\tthis._location = location;\n\t\tthis._drawChildren = [];\n\t\tthis._attributes[\"id\"] = `border_${location.getName()}`;\n\t\tBorderNode._attributeDefinitions.fromJson(json, this._attributes);\n\t\tmodel._addNode(this);\n\t}\n\n\tgetLocation() {\n\t\treturn this._location;\n\t}\n\n\tgetTabHeaderRect() {\n\t\treturn this._tabHeaderRect;\n\t}\n\n\tgetContentRect() {\n\t\treturn this._contentRect;\n\t}\n\n\tisEnableDrop() {\n\t\treturn this._getAttr(\"enableDrop\") as boolean;\n\t}\n\n\tgetClassName() {\n        return this._getAttributeAsStringOrUndefined(\"className\");\n\t}\n\n\tgetBorderBarSize() {\n\t\treturn this._getAttr(\"barSize\") as number;\n\t}\n\n\tgetSize() {\n\t\treturn this._attributes[\"size\"] as number;\n\t}\n\n\tgetSelected(): number {\n\t\treturn this._attributes[\"selected\"] as number;\n\t}\n\n\tgetSelectedNode(): Node | undefined {\n\t\tif (this.getSelected() !== -1) {\n\t\t\treturn this._children[this.getSelected()];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tgetOrientation() {\n\t\treturn this._location.getOrientation();\n\t}\n\n\tisMaximized() {\n\t\treturn false;\n\t}\n\n\tisShowing() {\n\t\treturn this._attributes[\"show\"] as boolean;\n\t}\n\n\t/** @hidden @internal */\n\t_setSelected(index: number) {\n\t\tthis._attributes[\"selected\"] = index;\n\t}\n\n\t/** @hidden @internal */\n\t_setSize(pos: number) {\n\t\tthis._attributes[\"size\"] = pos;\n\t}\n\n\t/** @hidden @internal */\n\t_updateAttrs(json: any) {\n\t\tBorderNode._attributeDefinitions.update(json, this._attributes);\n\t}\n\n\t/** @hidden @internal */\n\t_getDrawChildren() {\n\t\treturn this._drawChildren;\n\t}\n\n\t/** @hidden @internal */\n\t_setAdjustedSize(size: number) {\n\t\tthis._adjustedSize = size;\n\t}\n\n\t/** @hidden @internal */\n\t_getAdjustedSize() {\n\t\treturn this._adjustedSize;\n\t}\n\n\t/** @hidden @internal */\n\t_layoutBorderOuter(outer :Rect) {\n\t\tconst split1 = this._location.split(outer, this.getBorderBarSize()); // split border outer\n\t\tthis._tabHeaderRect = split1.start;\n\t\treturn split1.end;\n\t}\n\n\t/** @hidden @internal */\n\t_layoutBorderInner(inner: Rect) {\n\t\tthis._drawChildren = [];\n\t\tconst location = this._location;\n\n\t\tconst split1 =\n\t\t\tlocation.split(inner, this._adjustedSize + this._model.getSplitterSize()); // split off tab contents\n\t\tconst split2 =\n\t\t\tlocation.reflect().split(split1.start, this._model.getSplitterSize()); // split contents into content and splitter\n\n\t\tthis._contentRect = split2.end;\n\n\t\tthis._children.forEach((child, i) => {\n\t\t\tchild._layout(this._contentRect!);\n\t\t\tchild._setVisible(i === this.getSelected());\n\t\t\tthis._drawChildren.push(child);\n\t\t});\n\n\t\tif (this.getSelected() == -1) {\n\t\t\treturn inner;\n\t\t} else {\n\t\t\tconst newSplitter = new SplitterNode(this._model);\n\t\t\tnewSplitter._setParent(this);\n\t\t\tnewSplitter._setRect(split2.start);\n\t\t\tthis._drawChildren.push(newSplitter);\n\n\t\t\treturn split1.end;\n\t\t}\n\t}\n\n\t/** @hidden @internal */\n\t_remove(node: TabNode) {\n\t\tif (this.getSelected() !== -1) {\n\t\t\tconst selectedNode = this._children[this.getSelected()];\n\t\t\tif (node === selectedNode) {\n\t\t\t\tthis._setSelected(-1);\n\t\t\t\tthis._removeChild(node);\n\t\t\t} else {\n\t\t\t\tthis._removeChild(node);\n\t\t\t\tfor (let i = 0; i < this._children.length; i++) {\n\t\t\t\t\tif (this._children[i] === selectedNode) {\n\t\t\t\t\t\tthis._setSelected(i);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis._removeChild(node);\n\t\t}\n\t}\n\n\t/** @hidden @internal */\n\tcanDrop(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined {\n\t\tif (dragNode.getType() !== TabNode.TYPE) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet dropInfo = undefined;\n\t\tconst dockLocation = DockLocation.CENTER;\n\n\t\tif (this._tabHeaderRect!.contains(x, y)) {\n\t\t\tif (this._location._orientation === Orientation.VERT) {\n\t\t\t\tif (this._children.length > 0) {\n\t\t\t\t\tlet child = this._children[0];\n\t\t\t\t\tlet childRect = (child as TabNode).getTabRect()!;\n\t\t\t\t\tconst childY = childRect.y;\n\n\t\t\t\t\tconst childHeight = childRect.height;\n\n\t\t\t\t\tlet pos = this._tabHeaderRect!.x;\n\t\t\t\t\tlet childCenter = 0;\n\t\t\t\t\tfor (let i = 0; i < this._children.length; i++) {\n\t\t\t\t\t\tchild = this._children[i];\n\t\t\t\t\t\tchildRect = (child as TabNode).getTabRect()!;\n\t\t\t\t\t\tchildCenter = childRect.x + childRect.width / 2;\n\t\t\t\t\t\tif (x >= pos && x < childCenter) {\n\t\t\t\t\t\t\tlet outlineRect = new Rect(childRect.x - 2, childY, 3, childHeight);\n\t\t\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, i, \"flexlayout__outline_rect\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpos = childCenter;\n\t\t\t\t\t}\n\t\t\t\t\tif (dropInfo == undefined) {\n\t\t\t\t\t\tlet outlineRect = new Rect(childRect.getRight() - 2, childY, 3, childHeight);\n\t\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, this._children.length, \"flexlayout__outline_rect\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet outlineRect = new Rect(this._tabHeaderRect!.x + 1, this._tabHeaderRect!.y + 2, 3, 18);\n\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, 0, \"flexlayout__outline_rect\");\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._children.length > 0) {\n\t\t\t\t\tlet child = this._children[0];\n\t\t\t\t\tlet childRect = (child as TabNode).getTabRect()!;\n\t\t\t\t\tconst childX = childRect.x;\n\t\t\t\t\tconst childWidth = childRect.width;\n\n\t\t\t\t\tlet pos = this._tabHeaderRect!.y;\n\t\t\t\t\tlet childCenter = 0;\n\t\t\t\t\tfor (let i = 0; i < this._children.length; i++) {\n\t\t\t\t\t\tchild = this._children[i];\n\t\t\t\t\t\tchildRect = (child as TabNode).getTabRect()!;\n\t\t\t\t\t\tchildCenter = childRect.y + childRect.height / 2;\n\t\t\t\t\t\tif (y >= pos && y < childCenter) {\n\t\t\t\t\t\t\tlet outlineRect = new Rect(childX, childRect.y - 2, childWidth, 3);\n\t\t\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, i, \"flexlayout__outline_rect\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpos = childCenter;\n\t\t\t\t\t}\n\t\t\t\t\tif (dropInfo == undefined) {\n\t\t\t\t\t\tlet outlineRect = new Rect(childX, childRect.getBottom() - 2, childWidth, 3);\n\t\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, this._children.length, \"flexlayout__outline_rect\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet outlineRect = new Rect(this._tabHeaderRect!.x + 2, this._tabHeaderRect!.y + 1, 18, 3);\n\t\t\t\t\tdropInfo = new DropInfo(this, outlineRect, dockLocation, 0, \"flexlayout__outline_rect\");\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!dragNode._canDockInto(dragNode, dropInfo)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t} else if (this.getSelected() !== -1 && this._contentRect!.contains(x, y)) {\n\t\t\tlet outlineRect = this._contentRect;\n\t\t\tdropInfo = new DropInfo(this, outlineRect!, dockLocation, -1, \"flexlayout__outline_rect\");\n\t\t\tif (!dragNode._canDockInto(dragNode, dropInfo)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn dropInfo;\n\t}\n\n\t/** @hidden @internal */\n\tdrop(dragNode: (Node & IDraggable), location: DockLocation, index: number): void {\n\t\tlet fromIndex = 0;\n\t\tlet parent: Node | undefined = dragNode.getParent();\n\t\tif (parent !== undefined) {\n\t\t\tfromIndex = parent._removeChild(dragNode);\n\t\t}\n\n\t\t// if dropping a tab back to same tabset and moving to forward position then reduce insertion index\n\t\tif (dragNode.getType() === TabNode.TYPE && parent === this && fromIndex < index && index > 0) {\n\t\t\tindex--;\n\t\t}\n\n\t\t// for the tabset/border being removed from set the selected index\n\t\tif (parent !== undefined) {\n\t\t\tif (parent instanceof TabSetNode) {\n\t\t\t\tparent._setSelected(0);\n\t\t\t} else if (parent instanceof BorderNode) {\n\t\t\t\tif (parent.getSelected() !== -1) {\n\t\t\t\t\tif (fromIndex === parent.getSelected() && parent._children.length > 0) {\n\t\t\t\t\t\tparent._setSelected(0);\n\t\t\t\t\t} else if (fromIndex < parent.getSelected()) {\n\t\t\t\t\t\tparent._setSelected(parent.getSelected() - 1);\n\t\t\t\t\t} else if (fromIndex > parent.getSelected()) {\n\t\t\t\t\t\t// leave selected index as is\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparent._setSelected(-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// simple_bundled dock to existing tabset\n\t\tlet insertPos = index;\n\t\tif (insertPos === -1) {\n\t\t\tinsertPos = this._children.length;\n\t\t}\n\n\t\tif (dragNode.getType() === TabNode.TYPE) {\n\t\t\tthis._addChild(dragNode, insertPos);\n\t\t}\n\n\t\tif (this.getSelected() !== -1) { // already open\n\t\t\tthis._setSelected(insertPos);\n\t\t}\n\n\t\tthis._model._tidy();\n\t}\n\n\t/** @hidden @internal */\n\t_toJson() {\n\t\tconst json: any = {};\n\t\tBorderNode._attributeDefinitions.toJson(json, this._attributes);\n\t\tjson.location = this._location.getName();\n\t\tjson.children = this._children.map((child) => (child as TabNode)._toJson());\n\t\treturn json;\n\t}\n\n\t/** @hidden @internal */\n\tstatic _fromJson(json: any, model: Model) {\n\n\t\tconst location = DockLocation.getByName(json.location);\n\t\tconst border = new BorderNode(location, json, model);\n\t\tif (json.children) {\n\t\t\tborder._children = json.children.map((jsonChild: any) => {\n\t\t\t\tconst child = TabNode._fromJson(jsonChild, model);\n\t\t\t\tchild._setParent(border);\n\t\t\t\treturn child;\n\t\t\t});\n\t\t}\n\n\t\treturn border;\n\t}\n\n\t/** @hidden @internal */\n\t_getSplitterBounds(splitter: SplitterNode) {\n\t\tconst pBounds = [0, 0];\n\t\tconst outerRect = this._model._getOuterInnerRects().outer;\n\t\tconst innerRect = this._model._getOuterInnerRects().inner;\n\t\tif (this._location === DockLocation.TOP) {\n\t\t\tpBounds[0] = outerRect.y;\n\t\t\tpBounds[1] = innerRect.getBottom() - splitter.getHeight();\n\t\t} else if (this._location === DockLocation.LEFT) {\n\t\t\tpBounds[0] = outerRect.x;\n\t\t\tpBounds[1] = innerRect.getRight() - splitter.getWidth();\n\t\t} else if (this._location === DockLocation.BOTTOM) {\n\t\t\tpBounds[0] = innerRect.y;\n\t\t\tpBounds[1] = outerRect.getBottom() - splitter.getHeight();\n\t\t} else if (this._location === DockLocation.RIGHT) {\n\t\t\tpBounds[0] = innerRect.x;\n\t\t\tpBounds[1] = outerRect.getRight() - splitter.getWidth();\n\t\t}\n\t\treturn pBounds;\n\t}\n\n\t/** @hidden @internal */\n\t_calculateSplit(splitter: SplitterNode, splitterPos: number) {\n\t\tconst pBounds = this._getSplitterBounds(splitter);\n\t\tif (this._location === DockLocation.BOTTOM || this._location === DockLocation.RIGHT) {\n\t\t\treturn Math.max(0, pBounds[1] - splitterPos);\n\t\t} else {\n\t\t\treturn Math.max(0, splitterPos - pBounds[0]);\n\t\t}\n\t}\n\n\t/** @hidden @internal */\n\t_getAttributeDefinitions() {\n\t\treturn BorderNode._attributeDefinitions;\n\t}\n\n\t/** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n\n\t\tlet attributeDefinitions = new AttributeDefinitions();\n\t\tattributeDefinitions.add(\"type\", BorderNode.TYPE, true);\n\n\t\tattributeDefinitions.add(\"size\", 200);\n\t\tattributeDefinitions.add(\"selected\", -1);\n\t\tattributeDefinitions.add(\"show\", true).setType(Attribute.BOOLEAN);\n\n\t\tattributeDefinitions.addInherited(\"barSize\", \"borderBarSize\").setType(Attribute.INT).setFrom(0);\n\t\tattributeDefinitions.addInherited(\"enableDrop\", \"borderEnableDrop\").setType(Attribute.BOOLEAN);\n\t\tattributeDefinitions.addInherited(\"className\", \"borderClassName\").setType(Attribute.STRING);\n\t\treturn attributeDefinitions;\n\t}\n}\n\n\nexport default BorderNode;\n","import Rect from \"../Rect\";\nimport Model from \"./Model\";\nimport BorderNode from \"./BorderNode\";\nimport Node from \"./Node\";\nimport Orientation from \"../Orientation\";\nimport DropInfo from \"../DropInfo\";\nimport IDraggable from \"./IDraggable\";\n\nclass BorderSet {\n    /** @hidden @internal */\n    private _model: Model;\n    /** @hidden @internal */\n    private _borders: Array<BorderNode>;\n\n     /** @hidden @internal */\n     constructor(model: Model) {\n        this._model = model;\n        this._borders = [];\n    }\n\n    getBorders() {\n        return this._borders;\n    }\n\n    /** @hidden @internal */\n    _forEachNode(fn: (node: Node, level: number) => void) {\n        this._borders.forEach((borderNode) => {\n            fn(borderNode, 0);\n            borderNode.getChildren().forEach((node) => {\n                node._forEachNode(fn, 1);\n            })\n        });\n    }\n\n    /** @hidden @internal */\n    _toJson() {\n        return this._borders.map((borderNode) => borderNode._toJson());\n    }\n\n    /** @hidden @internal */\n    static _fromJson(json: any, model: Model) {\n        const borderSet = new BorderSet(model);\n        borderSet._borders = json.map((borderJson: any) => BorderNode._fromJson(borderJson, model));\n        return borderSet;\n    }\n\n    /** @hidden @internal */\n    _layoutBorder(outerInnerRects: { inner: Rect, outer: Rect }) {\n\n        const rect = outerInnerRects.outer;\n        const height = rect.height;\n        const width = rect.width;\n        let sumHeight = 0;\n        let sumWidth = 0;\n        let adjustableHeight = 0;\n        let adjustableWidth = 0;\n\n        const showingBorders = this._borders.filter((border) => border.isShowing());\n\n        // sum size of borders to see they will fit\n        for (let i = 0; i < showingBorders.length; i++) {\n            let border = showingBorders[i];\n            if (border.isShowing()) {\n                border._setAdjustedSize(border.getSize());\n                const visible = border.getSelected() !== -1;\n                if (border.getLocation().getOrientation() === Orientation.HORZ) {\n                    sumWidth += border.getBorderBarSize() + this._model.getSplitterSize();\n                    if (visible) {\n                        sumWidth += border.getSize();\n                        adjustableWidth += border.getSize();\n                    }\n                }\n                else {\n                    sumHeight += border.getBorderBarSize() + this._model.getSplitterSize();\n                    if (visible) {\n                        sumHeight += border.getSize();\n                        adjustableHeight += border.getSize();\n                    }\n                }\n            }\n        }\n\n        // adjust border sizes if too large\n        let i = 0;\n        while ((sumWidth > width && adjustableWidth > 0)\n            || (sumHeight > height && adjustableHeight > 0)) {\n            let border = showingBorders[i];\n            if (border.getSelected() !== -1) { //visible\n                const size = border._getAdjustedSize();\n                if (sumWidth > width && adjustableWidth > 0\n                    && border.getLocation().getOrientation() === Orientation.HORZ\n                    && size > 0) {\n                    border._setAdjustedSize(size - 1);\n                    sumWidth--;\n                    adjustableWidth--;\n                }\n                else if (sumHeight > height && adjustableHeight > 0\n                    && border.getLocation().getOrientation() === Orientation.VERT\n                    && size > 0) {\n                    border._setAdjustedSize(size - 1);\n                    sumHeight--;\n                    adjustableHeight--;\n                }\n            }\n            i = (i + 1) % showingBorders.length;\n        }\n\n        showingBorders.forEach((border) => {\n            outerInnerRects.outer = border._layoutBorderOuter(outerInnerRects.outer);\n        });\n\n        outerInnerRects.inner = outerInnerRects.outer;\n\n        showingBorders.forEach((border) => {\n            outerInnerRects.inner = border._layoutBorderInner(outerInnerRects.inner);\n        });\n        return outerInnerRects;\n    }\n\n    /** @hidden @internal */\n    _findDropTargetNode(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined{\n        for (let i = 0; i < this._borders.length; i++) {\n            const border = this._borders[i];\n            if (border.isShowing()) {\n                const dropInfo = border.canDrop(dragNode, x, y);\n                if (dropInfo !== undefined) {\n                    return dropInfo;\n                }\n            }\n        }\n        return undefined;\n    }\n}\n\nexport default BorderSet;\n","import {JSMap} from \"../Types\";\nimport Node from \"./Node\";\nimport RowNode from \"./RowNode\";\nimport Action from \"./Action\";\nimport Actions from \"./Actions\";\nimport TabNode from \"./TabNode\";\nimport TabSetNode from \"./TabSetNode\";\nimport BorderSet from \"./BorderSet\";\nimport BorderNode from \"./BorderNode\";\nimport DockLocation from \"../DockLocation\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Attribute from \"../Attribute\";\nimport Orientation from \"../Orientation\";\nimport DropInfo from \"../DropInfo\";\nimport Rect from \"../Rect\";\nimport IDraggable from \"./IDraggable\";\nimport IDropTarget from \"./IDropTarget\";\n\n/**\n * Class containing the Tree of Nodes used by the FlexLayout component\n */\nclass Model {\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = Model._createAttributeDefinitions();\n\n    /** @hidden @internal */\n    private _attributes: JSMap<any>;\n    /** @hidden @internal */\n    private _idMap: JSMap<Node>;\n    /** @hidden @internal */\n    private _nextId: number;\n    /** @hidden @internal */\n    private _changeListener?: ((action: Action) => void) ;\n    /** @hidden @internal */\n    private _root?: RowNode;\n    /** @hidden @internal */\n    private _borders: BorderSet;\n    /** @hidden @internal */\n    private _onAllowDrop?: (dragNode: (Node), dropInfo: DropInfo) => boolean;\n    /** @hidden @internal */\n    private _maximizedTabSet?: TabSetNode;\n    /** @hidden @internal */\n    private _activeTabSet?: TabSetNode;\n    /** @hidden @internal */\n    private _borderRects: { inner: Rect, outer: Rect } = {inner:Rect.empty(), outer:Rect.empty()};\n\n    /**\n     * 'private' constructor. Use the static method Model.fromJson(json) to create a model\n     *  @hidden @internal\n     */\n\n    private constructor() {\n        this._attributes = {};\n        this._idMap = {};\n        this._nextId = 0;\n        this._borders = new BorderSet(this);\n    }\n\n     /** @hidden @internal */\n     _setChangeListener(listener: ((action: Action) => void) | undefined) {\n        this._changeListener = listener;\n    }\n\n\n    /**\n     * Get the currently active tabset node\n     */\n    getActiveTabset() {\n        return this._activeTabSet;\n    }\n\n    /** @hidden @internal */\n    _setActiveTabset(tabsetNode: TabSetNode) {\n        this._activeTabSet = tabsetNode;\n    }\n\n    /**\n     * Get the currently maximized tabset node\n     */\n    getMaximizedTabset() {\n        return this._maximizedTabSet;\n    }\n\n    /** @hidden @internal */\n    _setMaximizedTabset(tabsetNode: TabSetNode) {\n        this._maximizedTabSet = tabsetNode;\n    }\n\n    /**\n     * Gets the root RowNode of the model\n     * @returns {RowNode}\n     */\n    getRoot() {\n        return this._root as RowNode;\n    }\n\n    /**\n     * Gets the\n     * @returns {BorderSet|*}\n     */\n    getBorderSet() {\n        return this._borders;\n    }\n\n    /** @hidden @internal */\n    _getOuterInnerRects() {\n        return this._borderRects;\n    }\n\n    /**\n     * Visits all the nodes in the model and calls the given function for each\n     * @param fn a function that takes visited node and a integer level as parameters\n     */\n    visitNodes(fn: (node: Node, level: number) => void) {\n        this._borders._forEachNode(fn);\n        (this._root as RowNode)._forEachNode(fn, 0);\n    }\n\n    /**\n     * Gets a node by its id\n     * @param id the id to find\n     */\n    getNodeById(id: string) {\n        return this._idMap[id];\n    }\n\n    /**\n     * Update the node tree by performing the given action,\n     * Actions should be generated via static methods on the Actions class\n     * @param action the action to perform\n     */\n    doAction(action: Action) {\n        //console.log(action);\n        switch (action.type) {\n            case Actions.ADD_NODE:\n                {\n                    const newNode = new TabNode(this, action.data[\"json\"]);\n                    let toNode = this._idMap[action.data[\"toNode\"]] as (Node & IDraggable);\n                    if (toNode instanceof TabSetNode || toNode instanceof BorderNode || toNode instanceof RowNode) {\n                        toNode.drop(newNode, DockLocation.getByName(action.data[\"location\"]), action.data[\"index\"]);\n                    }\n                    break;\n                }\n            case Actions.MOVE_NODE:\n                {\n                    const fromNode = this._idMap[action.data[\"fromNode\"]] as (Node & IDraggable);\n                    if (fromNode instanceof TabNode || fromNode instanceof TabSetNode) {\n                        let toNode = this._idMap[action.data[\"toNode\"]] as (Node & IDropTarget);\n                        if (toNode instanceof TabSetNode || toNode instanceof BorderNode || toNode instanceof RowNode) {\n                            toNode.drop(fromNode, DockLocation.getByName(action.data[\"location\"]), action.data[\"index\"]);\n                        }\n                    }\n                    break;\n                }\n            case Actions.DELETE_TAB:\n                {\n                    let node = this._idMap[action.data[\"node\"]];\n                    if (node instanceof TabNode) {\n                        delete this._idMap[action.data[\"node\"]];\n                        node._delete();\n                    }\n                    break;\n                }\n            case Actions.RENAME_TAB:\n                {\n                    let node = this._idMap[action.data[\"node\"]];\n                    if (node instanceof TabNode) {\n                        node._setName(action.data[\"text\"]);\n                    }\n                    break;\n                }\n            case Actions.SELECT_TAB:\n                {\n                    const tabNode = this._idMap[action.data[\"tabNode\"]];\n                    if (tabNode instanceof TabNode) {\n                        const parent = tabNode.getParent() as Node;\n                        const pos = parent.getChildren().indexOf(tabNode);\n\n                        if (parent instanceof BorderNode) {\n                            if (parent.getSelected() === pos) {\n                                parent._setSelected(-1);\n                            }\n                            else {\n                                parent._setSelected(pos);\n                            }\n\n                        }\n                        else if (parent instanceof TabSetNode) {\n                            if (parent.getSelected() !== pos) {\n                                parent._setSelected(pos);\n                            }\n                            this._activeTabSet = parent;\n                        }\n                    }\n                    break;\n                }\n            case Actions.SET_ACTIVE_TABSET:\n                {\n                    const tabsetNode = this._idMap[action.data[\"tabsetNode\"]];\n                    if (tabsetNode instanceof TabSetNode) {\n                        this._activeTabSet = tabsetNode;\n                    }\n                    break;\n                }\n            case Actions.ADJUST_SPLIT:\n                {\n                    const node1 = this._idMap[action.data[\"node1\"]];\n                    const node2 = this._idMap[action.data[\"node2\"]];\n\n                    if ((node1 instanceof TabSetNode || node1 instanceof RowNode) &&\n                        (node2 instanceof TabSetNode || node2 instanceof RowNode)) {\n                        this._adjustSplitSide(node1, action.data[\"weight1\"], action.data[\"pixelWidth1\"]);\n                        this._adjustSplitSide(node2, action.data[\"weight2\"], action.data[\"pixelWidth2\"]);\n                    }\n                    break;\n                }\n            case Actions.ADJUST_BORDER_SPLIT:\n                {\n                    let node = this._idMap[action.data[\"node\"]];\n                    if (node instanceof BorderNode) {\n                        node._setSize(action.data[\"pos\"]);\n                    }\n                    break;\n                }\n            case Actions.MAXIMIZE_TOGGLE:\n                {\n                    let node = this._idMap[action.data[\"node\"]];\n                    if (node instanceof TabSetNode) {\n                        if (node === this._maximizedTabSet) {\n                            this._maximizedTabSet = undefined;\n                        } else {\n                            this._maximizedTabSet = node;\n                            this._activeTabSet = node;\n                        }\n                    }\n\n                    break;\n                }\n            case Actions.UPDATE_MODEL_ATTRIBUTES:\n                {\n                    this._updateAttrs(action.data[\"json\"]);\n                    break;\n                }\n\n            case Actions.UPDATE_NODE_ATTRIBUTES:\n                {\n                    let node = this._idMap[action.data[\"node\"]];\n                    node._updateAttrs(action.data[\"json\"]);\n                    break;\n                }\n        }\n\n        this._updateIdMap();\n\n        if (this._changeListener !== undefined) {\n            this._changeListener(action);\n        }\n    }\n\n    /** @hidden @internal */\n    _updateIdMap() {\n        // regenerate idMap to stop it building up\n        this._idMap = {};\n        this.visitNodes((node) => this._idMap[node.getId()] = node);\n        //console.log(JSON.stringify(Object.keys(this._idMap)));\n    }\n\n    /** @hidden @internal */\n    _adjustSplitSide(node: (TabSetNode|RowNode), weight: number, pixels: number) {\n        node._setWeight(weight);\n        if ( node.getWidth() != undefined && node.getOrientation() === Orientation.VERT) {\n            node._updateAttrs({ width: pixels });\n        }\n        else if ( node.getHeight() != undefined && node.getOrientation() === Orientation.HORZ) {\n            node._updateAttrs({ height: pixels });\n        }\n    }\n\n    /**\n     * Converts the model to a json object\n     * @returns {*} json object that represents this model\n     */\n    toJson() {\n        const json: any = { global: {}, layout: {} };\n        Model._attributeDefinitions.toJson(json.global, this._attributes);\n\n        // save state of nodes\n        this.visitNodes((node) => {\n            node._fireEvent(\"save\", undefined);\n        });\n\n        json.borders = this._borders._toJson();\n        json.layout = (this._root as RowNode)._toJson();\n        return json;\n    }\n\n    /**\n     * Loads the model from the given json object\n     * @param json the json model to load\n     * @returns {Model} a new Model object\n     */\n    static fromJson(json: any) {\n        const model = new Model();\n        Model._attributeDefinitions.fromJson(json.global, model._attributes);\n\n        if (json.borders) {\n            model._borders = BorderSet._fromJson(json.borders, model);\n        }\n        model._root = RowNode._fromJson(json.layout, model);\n        model._tidy(); // initial tidy of node tree\n        return model;\n    }\n\n     getSplitterSize() {\n        return this._attributes[\"splitterSize\"] as number;\n    }\n\n    isEnableEdgeDock() {\n        return this._attributes[\"enableEdgeDock\"] as boolean;\n    }\n\n    /** @hidden @internal */\n    _addNode(node: Node) {\n        let id = node.getId();\n        if (this._idMap[id] !== undefined) {\n            throw \"Error: each node must have a unique id, duplicate id: \" + node.getId();\n        }\n\n        if (node.getType() !== \"splitter\") {\n            this._idMap[id] = node;\n        }\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect) {\n        //let start = Date.now();\n        this._borderRects = this._borders._layoutBorder({ outer: rect, inner: rect });\n        rect = this._borderRects.inner.removeInsets(this._getAttribute(\"marginInsets\"));\n\n        (this._root as RowNode)._layout(rect);\n        return rect;\n        //console.log(\"layout time: \" + (Date.now() - start));\n    }\n\n    /** @hidden @internal */\n    _findDropTargetNode(dragNode: (Node & IDraggable), x: number, y: number) {\n        let node = (this._root as RowNode)._findDropTargetNode(dragNode, x, y);\n        if (node === undefined) {\n            node = this._borders._findDropTargetNode(dragNode, x, y);\n        }\n        return node;\n    }\n\n    /** @hidden @internal */\n    _tidy() {\n        //console.log(\"before _tidy\", this.toString());\n        (this._root as RowNode)._tidy();\n        //console.log(\"after _tidy\", this.toString());\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any) {\n        Model._attributeDefinitions.update(json, this._attributes);\n    }\n\n    /** @hidden @internal */\n    _nextUniqueId() {\n        this._nextId++;\n        while (this._idMap[\"#\" + this._nextId] !== undefined) {\n            this._nextId++;\n        }\n\n        return \"#\" + this._nextId;\n    }\n\n   /** @hidden @internal */\n    _getAttribute(name: string): any {\n        return this._attributes[name];\n    }\n\n    /**\n     * Sets a function to allow/deny dropping a node\n     * @param onAllowDrop function that takes the drag node and DropInfo and returns true if the drop is allowed\n     */\n    setOnAllowDrop(onAllowDrop: (dragNode: Node, dropInfo: DropInfo) => boolean) {\n        this._onAllowDrop = onAllowDrop;\n    }\n\n   /** @hidden @internal */\n    _getOnAllowDrop() {\n        return this._onAllowDrop;\n    }\n\n    toString() {\n        return JSON.stringify(this.toJson());\n    }\n\n    /** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n        let attributeDefinitions = new AttributeDefinitions();\n        // splitter\n        attributeDefinitions.add(\"splitterSize\", 8).setType(Attribute.INT).setFrom(1);\n        attributeDefinitions.add(\"enableEdgeDock\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"marginInsets\", {top:0,right:0,bottom:0,left:0}).setType(Attribute.JSON);\n\n        // tab\n        attributeDefinitions.add(\"tabEnableClose\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabEnableDrag\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabEnableRename\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabClassName\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"tabIcon\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"tabEnableRenderOnDemand\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabDragSpeed\", 0.3).setType(Attribute.NUMBER);\n\n        // tabset\n        attributeDefinitions.add(\"tabSetEnableDeleteWhenEmpty\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetEnableDrop\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetEnableDrag\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetEnableDivide\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetEnableMaximize\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetClassNameTabStrip\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"tabSetClassNameHeader\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"tabSetEnableTabStrip\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"tabSetHeaderHeight\", 20).setType(Attribute.INT).setFrom(0);\n        attributeDefinitions.add(\"tabSetTabStripHeight\", 20).setType(Attribute.INT).setFrom(0);\n        attributeDefinitions.add(\"tabSetMarginInsets\", {top:0,right:0,bottom:0,left:0}).setType(Attribute.JSON);\n        attributeDefinitions.add(\"tabSetBorderInsets\", {top:0,right:0,bottom:0,left:0}).setType(Attribute.JSON);\n\n        attributeDefinitions.add(\"borderBarSize\", 25);\n        attributeDefinitions.add(\"borderEnableDrop\", true).setType(Attribute.BOOLEAN);\n        attributeDefinitions.add(\"borderClassName\", undefined).setType(Attribute.STRING);\n        return attributeDefinitions;\n    }\n}\n\nexport default Model;\n","import Rect from \"../Rect\";\nimport Model from \"./Model\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Orientation from \"../Orientation\";\nimport DockLocation from \"../DockLocation\";\nimport DropInfo from \"../DropInfo\";\nimport { JSMap } from \"../Types\";\nimport IDraggable from \"./IDraggable\";\n\nabstract class Node {\n\n    /** @hidden @internal */\n    protected _model: Model;\n    /** @hidden @internal */\n    protected _attributes: JSMap<any>;\n    /** @hidden @internal */\n    protected _parent?: Node;\n    /** @hidden @internal */\n    protected _children: Array<Node>;\n    /** @hidden @internal */\n    protected _fixed: boolean;\n    /** @hidden @internal */\n    protected _rect: Rect;\n    /** @hidden @internal */\n    protected _visible: boolean;\n    /** @hidden @internal */\n    protected _listeners: JSMap<(params: any) => void>;\n    /** @hidden @internal */\n    protected _dirty: boolean = false;\n    /** @hidden @internal */\n    protected _tempSize: number = 0;\n\n    /** @hidden @internal */\n    protected constructor(model: Model) {\n        this._model = model;\n        this._attributes = {};\n        this._children = [];\n        this._fixed = false;\n        this._rect = Rect.empty();\n        this._visible = false;\n        this._listeners = {};\n    }\n\n    /** @hidden @internal */\n    protected _getAttributeAsStringOrUndefined(attr: string) {\n        const value = this._attributes[attr];\n        if (value !== undefined) {\n            return value as string;\n        }\n        return undefined;\n    }\n\n    /** @hidden @internal */\n    protected _getAttributeAsNumberOrUndefined(attr: string) {\n        const value = this._attributes[attr];\n        if (value !== undefined) {\n            return value as number;\n        }\n        return undefined;\n    }\n\n    getId() {\n        let id = this._attributes[\"id\"];\n        if (id !== undefined) {\n            return id as string;\n        }\n\n        id = this._model._nextUniqueId();\n        this._setId(id);\n\n        return id as string;\n    }\n\n    getModel() {\n        return this._model;\n    }\n\n    getType() {\n        return this._attributes[\"type\"] as string;\n    }\n\n    getParent() {\n        return this._parent;\n    }\n\n    getChildren() {\n        return this._children;\n    }\n\n    getRect() {\n        return this._rect;\n    }\n\n    isVisible() {\n        return this._visible;\n    }\n\n    getOrientation(): Orientation {\n        if (this._parent === undefined) {\n            return Orientation.HORZ;\n        }\n        else {\n            return Orientation.flip(this._parent.getOrientation());\n        }\n    }\n\n    // event can be: resize, visibility, maximize (on tabset), close\n    setEventListener(event: string, callback: (params: any) => void) {\n        this._listeners[event] = callback;\n    }\n\n    removeEventListener(event: string) {\n        delete this._listeners[event];\n    }\n\n    /** @hidden @internal */\n    _setId(id: string) {\n        this._attributes[\"id\"] = id;\n    }\n\n    /** @hidden @internal */\n    _fireEvent(event: string, params: any) {\n        //console.log(this._type, \" fireEvent \" + event + \" \" + JSON.stringify(params));\n        if (this._listeners[event] !== undefined) {\n            this._listeners[event](params);\n        }\n    }\n\n    /** @hidden @internal */\n    _getAttr(name: string) {\n        let val = this._attributes[name];\n\n        if (val === undefined) {\n            let modelName = this._getAttributeDefinitions().getModelName(name);\n            if (modelName !== undefined) {\n                val = this._model._getAttribute(modelName);\n            }\n        }\n\n        //console.log(name + \"=\" + val);\n        return val;\n    }\n\n    /** @hidden @internal */\n    _forEachNode(fn: (node: Node, level: number) => void, level: number) {\n        fn(this, level);\n        level++;\n        this._children.forEach((node) => {\n            node._forEachNode(fn, level);\n        })\n    }\n\n\n    /** @hidden @internal */\n    _setVisible(visible: boolean) {\n        if (visible !== this._visible) {\n            this._fireEvent(\"visibility\", { visible: visible });\n            this._visible = visible;\n        }\n    }\n\n    /** @hidden @internal */\n    _getDrawChildren(): Array<Node> | undefined{\n        return this._children;\n    }\n\n    /** @hidden @internal */\n    _setParent(parent: Node) {\n        this._parent = parent;\n    }\n\n    /** @hidden @internal */\n    _setRect(rect: Rect) {\n        this._rect = rect;\n    }\n\n    /** @hidden @internal */\n    _setWeight(weight: number) {\n        this._attributes[\"weight\"] = weight;\n    }\n\n    /** @hidden @internal */\n    _setSelected(index: number) {\n        this._attributes[\"selected\"] = index;\n    }\n\n    /** @hidden @internal */\n    _isFixed() {\n        return this._fixed;\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect) {\n        this._rect = rect;\n    }\n\n    /** @hidden @internal */\n    _findDropTargetNode(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined {\n        let rtn: DropInfo | undefined = undefined;\n        if (this._rect.contains(x, y)) {\n            rtn = this.canDrop(dragNode, x, y);\n            if (rtn === undefined) {\n                if (this._children.length !== 0) {\n                    for (let i = 0; i < this._children.length; i++) {\n                        const child = this._children[i];\n                        rtn = child._findDropTargetNode(dragNode, x, y);\n                        if (rtn !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        return rtn;\n    }\n\n    /** @hidden @internal */\n    canDrop(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined {\n        return undefined;\n    }\n\n    /** @hidden @internal */\n    _canDockInto(dragNode: (Node & IDraggable), dropInfo: DropInfo | undefined): boolean {\n        if (dropInfo != undefined) {\n            if (dropInfo.location === DockLocation.CENTER && dropInfo.node.isEnableDrop() === false) {\n                return false;\n            }\n\n            // prevent named tabset docking into another tabset, since this would lose the header\n            if (dropInfo.location === DockLocation.CENTER && dragNode.getType() === \"tabset\" && dragNode.getName() !== undefined) {\n                return false;\n            }\n\n            if (dropInfo.location !== DockLocation.CENTER && dropInfo.node.isEnableDivide() === false) {\n                return false;\n            }\n\n            // finally check model callback to check if drop allowed\n            if (this._model._getOnAllowDrop()) {\n                return (this._model._getOnAllowDrop() as (dragNode: (Node), dropInfo: DropInfo) => boolean)(dragNode, dropInfo);\n            }\n        }\n        return true;\n    }\n\n    /** @hidden @internal */\n    _removeChild(childNode: Node) {\n        const pos = this._children.indexOf(childNode);\n        if (pos !== -1) {\n            this._children.splice(pos, 1);\n        }\n        this._dirty = true;\n        return pos;\n    }\n\n    /** @hidden @internal */\n    _addChild(childNode: Node, pos?: number) {\n        if (pos != undefined) {\n            this._children.splice(pos, 0, childNode);\n        }\n        else {\n            this._children.push(childNode);\n            pos = this._children.length - 1;\n        }\n        childNode._parent = this;\n        this._dirty = true;\n        return pos;\n    }\n\n    /** @hidden @internal */\n    _removeAll() {\n        this._children = [];\n        this._dirty = true;\n    }\n\n    /** @hidden @internal */\n    _styleWithPosition(style?: JSMap<any>) {\n        if (style == undefined) {\n            style = {};\n        }\n        return this._rect.styleWithPosition(style);\n    }\n\n    /** @hidden @internal */\n    _getTempSize() {\n        return this._tempSize;\n    }\n\n    /** @hidden @internal */\n    _setTempSize(value: number) {\n        this._tempSize = value;\n    }\n\n    /** @hidden @internal */\n    isEnableDivide() {\n        return true;\n    }\n\n    /** @hidden @internal */\n    _toAttributeString() {\n        return JSON.stringify(this._attributes, undefined, \"\\t\");\n    }\n\n    // implemented by subclasses\n    /** @hidden @internal */\n    abstract _updateAttrs(json: any): void;\n    /** @hidden @internal */\n    abstract _getAttributeDefinitions(): AttributeDefinitions ;\n    /** @hidden @internal */\n    abstract _toJson(): any;\n\n}\n\nexport default Node;\n","import Rect from \"../Rect\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Orientation from \"../Orientation\";\nimport DockLocation from \"../DockLocation\";\nimport SplitterNode from \"./SplitterNode\";\nimport Node from \"./Node\";\nimport Model from \"./Model\";\nimport TabSetNode from \"./TabSetNode\";\nimport BorderNode from \"./BorderNode\";\nimport DropInfo from \"./../DropInfo\";\nimport IDropTarget from \"./IDropTarget\";\nimport IDraggable from \"./IDraggable\";\n\nclass RowNode extends Node implements IDropTarget{\n\n    public static readonly TYPE = \"row\";\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = RowNode._createAttributeDefinitions();\n    /** @hidden @internal */\n    private _drawChildren: Array<(Node)>;\n\n    /** @hidden @internal */\n    constructor(model: Model, json: any) {\n        super(model);\n\n        this._dirty = true;\n        this._drawChildren = [];\n        RowNode._attributeDefinitions.fromJson(json, this._attributes);\n        model._addNode(this);\n    }\n\n    getWeight() {\n        return this._attributes[\"weight\"] as number;\n    }\n\n    getWidth() {\n        return this._getAttributeAsNumberOrUndefined(\"width\");\n    }\n\n    getHeight() {\n        return this._getAttributeAsNumberOrUndefined(\"height\");\n    }\n\n    /** @hidden @internal */\n    _setWeight(weight: number) {\n        this._attributes[\"weight\"] = weight;\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect) {\n        super._layout(rect);\n\n        const pixelSize = this._rect._getSize(this.getOrientation());\n\n        let totalWeight = 0;\n        let fixedPixels = 0;\n        let prefPixels = 0;\n        let totalPrefWeight = 0;\n        const drawChildren = this._getDrawChildren() as Array<RowNode | TabSetNode | SplitterNode>;\n\n        for (let i = 0; i < drawChildren.length; i++) {\n            let child = drawChildren[i];\n            let prefSize = child._getPrefSize(this.getOrientation());\n            if (child._isFixed()) {\n                if (prefSize !== undefined) {\n                    fixedPixels += prefSize;\n                }\n            }\n            else {\n                if (prefSize === undefined) {\n                    totalWeight += child.getWeight();\n                }\n                else {\n                    prefPixels += prefSize;\n                    totalPrefWeight += child.getWeight();\n                }\n            }\n        }\n\n        let resizePreferred = false;\n        let availablePixels = pixelSize - fixedPixels - prefPixels;\n        if (availablePixels < 0) {\n            availablePixels = pixelSize - fixedPixels;\n            resizePreferred = true;\n            totalWeight += totalPrefWeight;\n        }\n\n        // assign actual pixel sizes\n        let totalSizeGiven = 0;\n        let variableSize = 0;\n        for (let i = 0; i < drawChildren.length; i++) {\n            let child = drawChildren[i];\n            let prefSize = child._getPrefSize(this.getOrientation());\n            if (child._isFixed()) {\n                if (prefSize !== undefined) {\n                    child._setTempSize(prefSize);\n                }\n            }\n            else {\n                if (prefSize == undefined || resizePreferred) {\n                    if (totalWeight === 0) {\n                        child._setTempSize(0);\n                    }\n                    else {\n                        child._setTempSize(Math.floor(availablePixels * (child.getWeight() / totalWeight)));\n                    }\n                    variableSize += child._getTempSize();\n                }\n                else {\n                    child._setTempSize(prefSize);\n                }\n            }\n\n            totalSizeGiven += child._getTempSize();\n        }\n\n        // adjust sizes to exactly fit\n        if (variableSize > 0) {\n            while (totalSizeGiven < pixelSize) {\n                for (let i = 0; i < drawChildren.length; i++) {\n                    let child = drawChildren[i];\n                    let prefSize = child._getPrefSize(this.getOrientation());\n                    if (!child._isFixed() && (prefSize === undefined || resizePreferred) && totalSizeGiven < pixelSize) {\n                        child._setTempSize(child._getTempSize() + 1);\n                        totalSizeGiven++;\n                    }\n                }\n            }\n        }\n\n        // layout children\n        let p = 0;\n        for (let i = 0; i < drawChildren.length; i++) {\n            let child = drawChildren[i];\n\n            if (this.getOrientation() === Orientation.HORZ) {\n                child._layout(new Rect(this._rect.x + p, this._rect.y, child._getTempSize(), this._rect.height));\n            }\n            else {\n                child._layout(new Rect(this._rect.x, this._rect.y + p, this._rect.width, child._getTempSize()));\n            }\n            p += child._getTempSize();\n        }\n\n        return true;\n    }\n\n    /** @hidden @internal */\n    _getSplitterBounds(splitterNode: SplitterNode) {\n        const pBounds = [0, 0];\n        const drawChildren = this._getDrawChildren() as Array<RowNode | TabSetNode | SplitterNode>;\n        const p = drawChildren.indexOf(splitterNode);\n        if (this.getOrientation() === Orientation.HORZ) {\n            pBounds[0] = drawChildren[p - 1].getRect().x;\n            pBounds[1] = drawChildren[p + 1].getRect().getRight() - splitterNode.getWidth();\n        }\n        else {\n            pBounds[0] = drawChildren[p - 1].getRect().y;\n            pBounds[1] = drawChildren[p + 1].getRect().getBottom() - splitterNode.getHeight();\n        }\n        return pBounds;\n    }\n\n    /** @hidden @internal */\n    _calculateSplit(splitter: SplitterNode, splitterPos: number) {\n        let rtn = undefined;\n        const drawChildren = this._getDrawChildren() as Array<RowNode | TabSetNode | SplitterNode>;\n        const p = drawChildren.indexOf(splitter);\n        const pBounds = this._getSplitterBounds(splitter);\n\n        const weightedLength = drawChildren[p - 1].getWeight() + drawChildren[p + 1].getWeight();\n\n        const pixelWidth1 = Math.max(0, splitterPos - pBounds[0]);\n        const pixelWidth2 = Math.max(0, pBounds[1] - splitterPos);\n\n        if (pixelWidth1 + pixelWidth2 > 0) {\n            const weight1 = (pixelWidth1 * weightedLength) / (pixelWidth1 + pixelWidth2);\n            const weight2 = (pixelWidth2 * weightedLength) / (pixelWidth1 + pixelWidth2);\n\n            rtn = {\n                node1Id: drawChildren[p - 1].getId(), weight1: weight1, pixelWidth1: pixelWidth1,\n                node2Id: drawChildren[p + 1].getId(), weight2: weight2, pixelWidth2: pixelWidth2\n            }\n        }\n\n        return rtn;\n    }\n\n    /** @hidden @internal */\n    _getDrawChildren(): Array<Node> | undefined{\n        if (this._dirty) {\n            this._drawChildren = [];\n\n            for (let i = 0; i < this._children.length; i++) {\n                const child = this._children[i] as RowNode | TabSetNode;\n                if (i !== 0) {\n                    const newSplitter = new SplitterNode(this._model);\n                    newSplitter._setParent(this);\n                    this._drawChildren.push(newSplitter);\n                }\n                this._drawChildren.push(child);\n            }\n            this._dirty = false;\n        }\n\n        return this._drawChildren;\n    }\n\n    /** @hidden @internal */\n    _tidy() {\n        //console.log(\"a\", this._model.toString());\n        let i = 0;\n        while (i < this._children.length) {\n            const child = this._children[i];\n            if (child instanceof RowNode) {\n                child._tidy();\n\n                let childChildren = child.getChildren();\n                if (childChildren.length === 0) {\n                    this._removeChild(child);\n                }\n                else if (childChildren.length === 1) {\n                    // hoist child/children up to this level\n                    const subchild = childChildren[0];\n                    this._removeChild(child);\n                    if (subchild instanceof RowNode) {\n                        let subChildrenTotal = 0;\n                        let subChildChildren = subchild.getChildren();\n                        for (let j = 0; j < subChildChildren.length; j++) {\n                            let subsubChild = subChildChildren[j] as RowNode | TabSetNode;\n                            subChildrenTotal += subsubChild.getWeight();\n                        }\n                        for (let j = 0; j < subChildChildren.length; j++) {\n                            let subsubChild = subChildChildren[j] as RowNode | TabSetNode;\n                            subsubChild._setWeight(child.getWeight() * subsubChild.getWeight() / subChildrenTotal);\n                            this._addChild(subsubChild, i + j);\n                        }\n                    }\n                    else {\n                        subchild._setWeight(child.getWeight());\n                        this._addChild(subchild, i);\n                    }\n                }\n                else {\n                    i++;\n                }\n            }\n            else if (child instanceof TabSetNode && child.getChildren().length === 0) {\n                if (child.isEnableDeleteWhenEmpty()) {\n                    this._removeChild(child);\n                }\n                else {\n                    i++;\n                }\n            }\n            else {\n                i++;\n            }\n        }\n\n        // add tabset into empty root\n        if (this === this._model.getRoot() && this._children.length === 0) {\n            let child = new TabSetNode(this._model, { type: \"tabset\" });\n            this._addChild(child);\n        }\n\n        //console.log(\"b\", this._model.toString());\n    }\n\n    /** @hidden @internal */\n    canDrop(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined {\n        const yy = y - this._rect.y;\n        const xx = x - this._rect.x;\n        const w = this._rect.width;\n        const h = this._rect.height;\n        const margin = 10; // height of edge rect\n        const half = 50; // half width of edge rect\n        let dropInfo = undefined;\n\n        if (this._model.isEnableEdgeDock() && this._parent === undefined) { // _root row\n            if (x < this._rect.x + margin && (yy > h / 2 - half && yy < h / 2 + half)) {\n                let dockLocation = DockLocation.LEFT;\n                let outlineRect = dockLocation.getDockRect(this._rect);\n                outlineRect.width = outlineRect.width / 2;\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect_edge\");\n            }\n            else if (x > this._rect.getRight() - margin && (yy > h / 2 - half && yy < h / 2 + half)) {\n                let dockLocation = DockLocation.RIGHT;\n                let outlineRect = dockLocation.getDockRect(this._rect);\n                outlineRect.width = outlineRect.width / 2;\n                outlineRect.x += outlineRect.width;\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect_edge\");\n            }\n            else if (y < this._rect.y + margin && (xx > w / 2 - half && xx < w / 2 + half)) {\n                let dockLocation = DockLocation.TOP;\n                let outlineRect = dockLocation.getDockRect(this._rect);\n                outlineRect.height = outlineRect.height / 2;\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect_edge\");\n            }\n            else if (y > this._rect.getBottom() - margin && (xx > w / 2 - half && xx < w / 2 + half)) {\n                let dockLocation = DockLocation.BOTTOM;\n                let outlineRect = dockLocation.getDockRect(this._rect);\n                outlineRect.height = outlineRect.height / 2;\n                outlineRect.y += outlineRect.height;\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect_edge\");\n            }\n\n            if (dropInfo !== undefined) {\n                if (!dragNode._canDockInto(dragNode, dropInfo)) {\n                    return undefined;\n                }\n            }\n        }\n\n        return dropInfo;\n    }\n\n    /** @hidden @internal */\n    drop(dragNode: (Node & IDraggable), location: DockLocation, index: number): void {\n        const dockLocation = location;\n\n        let parent = dragNode.getParent();\n\n        if (parent) {\n            parent._removeChild(dragNode);\n        }\n\n        if (parent !== undefined && parent!.getType() === TabSetNode.TYPE) {\n            parent._setSelected(0);\n        }\n\n        if (parent !== undefined && parent!.getType() === BorderNode.TYPE) {\n            parent._setSelected(-1);\n        }\n\n        let tabSet: TabSetNode | undefined = undefined;\n        if (dragNode instanceof TabSetNode) {\n            tabSet = dragNode;\n        }\n        else {\n            tabSet = new TabSetNode(this._model, {});\n            tabSet._addChild(dragNode);\n        }\n        let size = this._children.reduce((sum, child) => {\n            return sum + (child as RowNode | TabSetNode).getWeight();\n        }, 0);\n\n        if (size === 0) {\n            size = 100;\n        }\n\n        tabSet._setWeight(size / 3);\n\n        if (dockLocation === DockLocation.LEFT) {\n            this._addChild(tabSet, 0);\n        }\n        else if (dockLocation === DockLocation.RIGHT) {\n            this._addChild(tabSet);\n        }\n        else if (dockLocation === DockLocation.TOP) {\n            let vrow = new RowNode(this._model, {});\n            let hrow = new RowNode(this._model, {});\n            hrow._setWeight(75);\n            tabSet._setWeight(25);\n            this._children.forEach((child) => {\n                hrow._addChild(child);\n            });\n            this._removeAll();\n            vrow._addChild(tabSet);\n            vrow._addChild(hrow);\n            this._addChild(vrow);\n        }\n        else if (dockLocation === DockLocation.BOTTOM) {\n            let vrow = new RowNode(this._model, {});\n            let hrow = new RowNode(this._model, {});\n            hrow._setWeight(75);\n            tabSet._setWeight(25);\n            this._children.forEach((child) => {\n                hrow._addChild(child);\n            });\n            this._removeAll();\n            vrow._addChild(hrow);\n            vrow._addChild(tabSet);\n            this._addChild(vrow);\n        }\n\n        this._model._setActiveTabset(tabSet);\n\n        this._model._tidy();\n    }\n\n    /** @hidden @internal */\n    _toJson() {\n        const json: any = {};\n        RowNode._attributeDefinitions.toJson(json, this._attributes);\n\n        json.children = [];\n        this._children.forEach((child) => {\n            json.children.push(child._toJson())\n        });\n\n        return json;\n    }\n\n    /** @hidden @internal */\n    static _fromJson(json: any, model: Model) {\n        const newLayoutNode = new RowNode(model, json);\n\n        if (json.children != undefined) {\n            for (let i = 0; i < json.children.length; i++) {\n                const jsonChild = json.children[i];\n                if (jsonChild.type === TabSetNode.TYPE) {\n                    let child = TabSetNode._fromJson(jsonChild, model);\n                    newLayoutNode._addChild(child);\n                }\n                else {\n                    let child = RowNode._fromJson(jsonChild, model);\n                    newLayoutNode._addChild(child);\n                }\n            }\n        }\n\n        return newLayoutNode;\n    }\n\n    isEnableDrop() {\n        return true;\n    }\n\n    /** @hidden @internal */\n    _getPrefSize(orientation: Orientation) {\n        let prefSize = this.getWidth();\n        if (orientation === Orientation.VERT) {\n            prefSize = this.getHeight();\n        }\n        return prefSize;\n    }\n\n    /** @hidden @internal */\n    _getAttributeDefinitions() {\n        return RowNode._attributeDefinitions;\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any) {\n        RowNode._attributeDefinitions.update(json, this._attributes);\n    }\n\n    /** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n        let attributeDefinitions = new AttributeDefinitions();\n        attributeDefinitions.add(\"type\", RowNode.TYPE, true);\n        attributeDefinitions.add(\"id\", undefined);\n\n        attributeDefinitions.add(\"weight\", 100);\n        attributeDefinitions.add(\"width\", undefined);\n        attributeDefinitions.add(\"height\", undefined);\n\n        return attributeDefinitions;\n    }\n}\n\nexport default RowNode;\n","import Node from \"./Node\";\nimport Model from \"./Model\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Orientation from \"../Orientation\";\n\nclass SplitterNode extends Node {\n\n    public static readonly TYPE: string = \"splitter\";\n\n    /** @hidden @internal */\n    constructor(model: Model) {\n        super(model);\n        this._fixed = true;\n        this._attributes[\"type\"] = SplitterNode.TYPE;\n        model._addNode(this);\n    }\n\n    /** @hidden @internal */\n    getWidth() {\n        return this._model.getSplitterSize();\n    }\n\n    /** @hidden @internal */\n    getHeight() {\n        return this._model.getSplitterSize();\n    }\n\n    /** @hidden @internal */\n    getWeight(): number {\n        return 0;\n    }\n\n    /** @hidden @internal */\n    _setWeight(value: number): void {\n    }\n\n    /** @hidden @internal */\n    _getPrefSize(orientation: Orientation): number {\n        return this._model.getSplitterSize();\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any): void {\n    }\n\n    /** @hidden @internal */\n    _getAttributeDefinitions(): AttributeDefinitions {\n        return new AttributeDefinitions();\n    }\n\n    /** @hidden @internal */\n    _toJson(): any {\n        return undefined;\n    }\n}\n\nexport default SplitterNode;\n","import Node from \"./Node\";\nimport TabSetNode from \"./TabSetNode\";\nimport BorderNode from \"./BorderNode\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Attribute from \"../Attribute\";\nimport Rect from \"../Rect\";\nimport Model from \"./Model\";\nimport IDraggable from \"./IDraggable\";\nimport { JSMap } from \"../Types\";\n\nclass TabNode extends Node implements IDraggable{\n\n    public static readonly TYPE = \"tab\";\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = TabNode._createAttributeDefinitions();\n\n    /** @hidden @internal */\n    private _tabRect?: Rect;\n    /** @hidden @internal */\n    private _extra: JSMap<any>;\n\n    /** @hidden @internal */\n    constructor(model: Model, json: any) {\n        super(model);\n\n        this._extra = {};  // extra data added to node not saved in json\n\n        TabNode._attributeDefinitions.fromJson(json, this._attributes);\n        model._addNode(this);\n    }\n\n    getTabRect() {\n        return this._tabRect;\n    }\n\n    /** @hidden @internal */\n    _setTabRect(rect: Rect) {\n        this._tabRect = rect;\n    }\n\n    getName() {\n        return this._getAttr(\"name\") as string;\n    }\n\n    getComponent() {\n        return this._getAttributeAsStringOrUndefined(\"component\");\n    }\n\n    /**\n     * Returns the config attribute that can be used to store node specific data that\n     * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\n     * than directly, for example:\n     * this.state.model.doAction(\n     *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\n     */\n    getConfig() {\n        return this._attributes[\"config\"];\n    }\n\n    /**\n     * Returns an object that can be used to store transient node specific data that will\n     * NOT be saved in the json.\n     */\n    getExtraData() {\n        return this._extra;\n    }\n\n    getIcon() {\n        return this._getAttributeAsStringOrUndefined(\"icon\");\n    }\n\n    isEnableClose() {\n        return this._getAttr(\"enableClose\") as boolean;\n    }\n\n    isEnableDrag() {\n        return this._getAttr(\"enableDrag\") as boolean;\n    }\n\n    isEnableRename() {\n        return this._getAttr(\"enableRename\") as boolean;\n    }\n\n    getClassName() {\n        return this._getAttributeAsStringOrUndefined(\"className\");\n    }\n\n    isEnableRenderOnDemand(){\n        return this._getAttr(\"enableRenderOnDemand\") as boolean;\n    }\n\n    /** @hidden @internal */\n    _setName(name: string) {\n        this._attributes[\"name\"] = name;\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect) {\n        if (!rect.equals(this._rect)) {\n            this._fireEvent(\"resize\", { rect: rect });\n        }\n        this._rect = rect;\n    }\n\n    /** @hidden @internal */\n    _delete() {\n        (this._parent as TabSetNode | BorderNode)._remove(this);\n        this._fireEvent(\"close\", {});\n    }\n\n    /** @hidden @internal */\n    static _fromJson(json: any, model: Model) {\n        const newLayoutNode = new TabNode(model, json);\n        return newLayoutNode;\n    }\n\n    /** @hidden @internal */\n    _toJson() {\n        const json = {};\n        TabNode._attributeDefinitions.toJson(json, this._attributes);\n        return json;\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any) {\n        TabNode._attributeDefinitions.update(json, this._attributes);\n    }\n\n    /** @hidden @internal */\n    _getAttributeDefinitions() {\n        return TabNode._attributeDefinitions;\n    }\n\n    /** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n\n        let attributeDefinitions = new AttributeDefinitions();\n        attributeDefinitions.add(\"type\", TabNode.TYPE, true);\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute.ID);\n\n        attributeDefinitions.add(\"name\", \"[Unnamed Tab]\").setType(Attribute.STRING);\n        attributeDefinitions.add(\"component\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"config\", undefined).setType(Attribute.JSON);\n\n        attributeDefinitions.addInherited(\"enableClose\", \"tabEnableClose\").setType(Attribute.BOOLEAN);\n        attributeDefinitions.addInherited(\"enableDrag\", \"tabEnableDrag\").setType(Attribute.BOOLEAN);\n        attributeDefinitions.addInherited(\"enableRename\", \"tabEnableRename\").setType(Attribute.BOOLEAN);\n        attributeDefinitions.addInherited(\"className\", \"tabClassName\").setType(Attribute.STRING);\n        attributeDefinitions.addInherited(\"icon\", \"tabIcon\").setType(Attribute.STRING);\n        attributeDefinitions.addInherited(\"enableRenderOnDemand\", \"tabEnableRenderOnDemand\").setType(Attribute.BOOLEAN);\n        return attributeDefinitions;\n    }\n}\n\nexport default TabNode;\n","import Rect from \"../Rect\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport Attribute from \"../Attribute\";\nimport DockLocation from \"../DockLocation\";\nimport DropInfo from \"./../DropInfo\";\nimport Node from \"./Node\";\nimport Model from \"./Model\";\nimport TabNode from \"./TabNode\";\nimport RowNode from \"./RowNode\";\nimport BorderNode from \"./BorderNode\";\nimport Orientation from \"../Orientation\";\nimport IDraggable from \"./IDraggable\";\nimport IDropTarget from \"./IDropTarget\";\n\nclass TabSetNode extends Node implements IDraggable, IDropTarget{\n    public static readonly TYPE = \"tabset\";\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = TabSetNode._createAttributeDefinitions();\n\n    /** @hidden @internal */\n    private _contentRect?: Rect;\n    /** @hidden @internal */\n    private _tabHeaderRect?: Rect;\n\n    /** @hidden @internal */\n    constructor(model: Model, json: any) {\n        super(model);\n\n        TabSetNode._attributeDefinitions.fromJson(json, this._attributes);\n        model._addNode(this);\n    }\n\n    getName() {\n        return this._getAttributeAsStringOrUndefined(\"name\");\n    }\n\n    getSelected() {\n        const selected = this._attributes[\"selected\"];\n        if (selected !== undefined) {\n            return selected as number;\n        }\n        return -1;\n    }\n\n    getSelectedNode() {\n        let selected = this.getSelected();\n        if (selected !== -1) {\n            return this._children[selected];\n        }\n        return undefined;\n    }\n\n    getWeight(): number {\n        return this._attributes[\"weight\"] as number;\n    }\n\n    getWidth() {\n        return this._getAttributeAsNumberOrUndefined(\"width\");\n    }\n\n    getHeight() {\n        return this._getAttributeAsNumberOrUndefined(\"height\");\n    }\n\n    isMaximized() {\n        return this._model.getMaximizedTabset() === this;\n    }\n\n    isActive() {\n        return this._model.getActiveTabset() === this;\n    }\n\n    isEnableDeleteWhenEmpty() {\n        return this._getAttr(\"enableDeleteWhenEmpty\") as boolean;\n    }\n\n    isEnableDrop() {\n        return this._getAttr(\"enableDrop\") as boolean;\n    }\n\n    isEnableDrag() {\n        return this._getAttr(\"enableDrag\") as boolean;\n    }\n\n    isEnableDivide() {\n        return this._getAttr(\"enableDivide\") as boolean;\n    }\n\n    isEnableMaximize() {\n        return this._getAttr(\"enableMaximize\") as boolean;\n    }\n\n    isEnableTabStrip() {\n        return this._getAttr(\"enableTabStrip\") as boolean;\n    }\n\n    getClassNameTabStrip() {\n        return this._getAttributeAsStringOrUndefined(\"classNameTabStrip\");\n    }\n\n    getClassNameHeader() {\n        return this._getAttributeAsStringOrUndefined(\"classNameHeader\");\n    }\n\n    getHeaderHeight() {\n        return this._getAttr(\"headerHeight\") as number;\n    }\n\n    getTabStripHeight() {\n        return this._getAttr(\"tabStripHeight\") as number;\n    }\n\n    /** @hidden @internal */\n    _setWeight(weight: number) {\n        this._attributes[\"weight\"] = weight;\n    }\n\n    /** @hidden @internal */\n    _setSelected(index: number) {\n        this._attributes[\"selected\"] = index;\n    }\n\n    /** @hidden @internal */\n    canDrop(dragNode: (Node & IDraggable), x: number, y: number): DropInfo | undefined {\n        let dropInfo = undefined;\n\n        if (dragNode === this) {\n            let dockLocation = DockLocation.CENTER;\n            let outlineRect = this._tabHeaderRect;\n            dropInfo = new DropInfo(this, outlineRect!, dockLocation, -1, \"flexlayout__outline_rect\");\n        }\n        else if (this._contentRect!.contains(x, y)) {\n            let dockLocation = DockLocation.getLocation(this._contentRect!, x, y);\n            let outlineRect = dockLocation.getDockRect(this._rect);\n            dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect\");\n        }\n        else if (this._children.length > 0 && this._tabHeaderRect != undefined && this._tabHeaderRect.contains(x, y)) {\n            let child = this._children[0] as TabNode;\n            let r = child.getTabRect()!;\n            const yy = r.y;\n            const h = r.height;\n            let p = this._tabHeaderRect.x;\n            let childCenter = 0;\n            for (let i = 0; i < this._children.length; i++) {\n                child = this._children[i] as TabNode;\n                r = child.getTabRect()!;\n                childCenter = r.x + r.width / 2;\n                if (x >= p && x < childCenter) {\n                    let dockLocation = DockLocation.CENTER;\n                    let outlineRect = new Rect(r.x - 2, yy, 3, h);\n                    dropInfo = new DropInfo(this, outlineRect, dockLocation, i, \"flexlayout__outline_rect\");\n                    break;\n                }\n                p = childCenter;\n            }\n            if (dropInfo == undefined) {\n                let dockLocation = DockLocation.CENTER;\n                let outlineRect = new Rect(r.getRight() - 2, yy, 3, h);\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, this._children.length, \"flexlayout__outline_rect\");\n            }\n        }\n\n        if (!dragNode._canDockInto(dragNode, dropInfo)) {\n            return undefined;\n        }\n\n        return dropInfo;\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect) {\n\n        if (this.isMaximized()) {\n            rect = (this._model.getRoot() as Node).getRect();\n        }\n\n        rect = rect.removeInsets(this._getAttr(\"marginInsets\"));\n        this._rect = rect;\n        rect = rect.removeInsets(this._getAttr(\"borderInsets\"));\n\n        const showHeader = (this.getName() !== undefined);\n        let y = 0;\n        if (showHeader) {\n            y += this.getHeaderHeight();\n        }\n        if (this.isEnableTabStrip()) {\n            this._tabHeaderRect = new Rect(rect.x, rect.y + y, rect.width, this.getTabStripHeight());\n            y += this.getTabStripHeight();\n        }\n        this._contentRect = new Rect(rect.x, rect.y + y, rect.width, rect.height - y);\n\n        this._children.forEach((child, i) => {\n            child._layout(this._contentRect!);\n            child._setVisible(i === this.getSelected());\n        });\n    }\n\n    /** @hidden @internal */\n    _remove(node: TabNode) {\n        this._removeChild(node);\n        this._model._tidy();\n        this._setSelected(Math.max(0, this.getSelected() - 1));\n    }\n\n    /** @hidden @internal */\n    drop(dragNode: (Node & IDraggable), location: DockLocation, index: number) {\n        const dockLocation = location;\n\n        if (this === dragNode) { // tabset drop into itself\n            return; // dock back to itself\n        }\n\n        let dragParent = dragNode.getParent() as (BorderNode | TabSetNode);\n        let fromIndex = 0;\n        if (dragParent !== undefined) {\n            fromIndex = dragParent._removeChild(dragNode);\n        }\n        //console.log(\"removed child: \" + fromIndex);\n\n        // if dropping a tab back to same tabset and moving to forward position then reduce insertion index\n        if (dragNode.getType() === TabNode.TYPE && dragParent === this && fromIndex < index && index > 0) {\n            index--;\n        }\n\n        // for the tabset/border being removed from set the selected index\n        if (dragParent !== undefined) {\n            if (dragParent.getType() === TabSetNode.TYPE) {\n                dragParent._setSelected(0);\n            }\n            else if (dragParent.getType() === BorderNode.TYPE) {\n                if (dragParent.getSelected() !== -1) {\n                    if (fromIndex === dragParent.getSelected() && dragParent.getChildren().length > 0) {\n                        dragParent._setSelected(0);\n                    }\n                    else if (fromIndex < dragParent.getSelected()) {\n                        dragParent._setSelected(dragParent.getSelected() - 1);\n                    }\n                    else if (fromIndex > dragParent.getSelected()) {\n                        // leave selected index as is\n                    }\n                    else {\n                        dragParent._setSelected(-1);\n                    }\n                }\n            }\n        }\n\n        // simple_bundled dock to existing tabset\n        if (dockLocation === DockLocation.CENTER) {\n            let insertPos = index;\n            if (insertPos === -1) {\n                insertPos = this._children.length;\n            }\n\n            if (dragNode.getType() === TabNode.TYPE) {\n                this._addChild(dragNode, insertPos);\n                this._setSelected(insertPos);\n                //console.log(\"added child at : \" + insertPos);\n            }\n            else {\n                dragNode.getChildren().forEach((child, i) => {\n                    this._addChild(child, insertPos);\n                    //console.log(\"added child at : \" + insertPos);\n                    insertPos++;\n                });\n            }\n            this._model._setActiveTabset(this);\n\n        }\n        else {\n            let tabSet: TabSetNode | undefined ;\n            if (dragNode instanceof TabNode) {\n                // create new tabset parent\n                //console.log(\"create a new tabset\");\n                tabSet = new TabSetNode(this._model, {});\n                tabSet._addChild(dragNode);\n                //console.log(\"added child at end\");\n                dragParent = tabSet;\n            }\n            else {\n                tabSet = dragNode as TabSetNode;\n            }\n\n            const parentRow = this._parent as Node;\n            const pos = parentRow.getChildren().indexOf(this);\n\n            if (parentRow.getOrientation() === dockLocation._orientation) {\n                tabSet._setWeight(this.getWeight() / 2);\n                this._setWeight(this.getWeight() / 2);\n                //console.log(\"added child 50% size at: \" +  pos + dockLocation.indexPlus);\n                parentRow._addChild(tabSet, pos + dockLocation._indexPlus);\n            }\n            else {\n                // create a new row to host the new tabset (it will go in the opposite direction)\n                //console.log(\"create a new row\");\n                const newRow = new RowNode(this._model, {});\n                newRow._setWeight(this.getWeight());\n                newRow._addChild(this);\n                this._setWeight(50);\n                tabSet._setWeight(50);\n                //console.log(\"added child 50% size at: \" +  dockLocation.indexPlus);\n                newRow._addChild(tabSet, dockLocation._indexPlus);\n\n                parentRow._removeChild(this);\n                parentRow._addChild(newRow, pos);\n            }\n            this._model._setActiveTabset(tabSet);\n\n        }\n        this._model._tidy();\n\n    }\n\n    /** @hidden @internal */\n    _toJson(): any {\n        const json: any = {};\n        TabSetNode._attributeDefinitions.toJson(json, this._attributes);\n        json.children = this._children.map((child) => child._toJson());\n\n        if (this.isActive()) {\n            json.active = true;\n        }\n\n        if (this.isMaximized()) {\n            json.maximized = true;\n        }\n\n        return json;\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any) {\n        TabSetNode._attributeDefinitions.update(json, this._attributes);\n    }\n\n    /** @hidden @internal */\n    static _fromJson(json: any, model: Model) {\n        const newLayoutNode = new TabSetNode(model, json);\n\n        if (json.children != undefined) {\n            json.children.forEach((jsonChild: any) => {\n                const child = TabNode._fromJson(jsonChild, model);\n                newLayoutNode._addChild(child);\n            });\n        }\n\n        if (json.maximized && json.maximized === true) {\n            model._setMaximizedTabset(newLayoutNode);\n        }\n\n        if (json.active && json.active === true) {\n            model._setActiveTabset(newLayoutNode);\n        }\n\n        return newLayoutNode;\n    }\n\n    /** @hidden @internal */\n    _getAttributeDefinitions() {\n        return TabSetNode._attributeDefinitions;\n    }\n\n    /** @hidden @internal */\n    _getPrefSize(orientation: Orientation) {\n        let prefSize = this.getWidth();\n        if (orientation === Orientation.VERT) {\n            prefSize = this.getHeight();\n        }\n        return prefSize;\n    }\n\n    /** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n\n        let attributeDefinitions = new AttributeDefinitions();\n        attributeDefinitions.add(\"type\", TabSetNode.TYPE, true);\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute.ID);\n\n        attributeDefinitions.add(\"weight\", 100);\n        attributeDefinitions.add(\"width\", undefined);\n        attributeDefinitions.add(\"height\", undefined);\n        attributeDefinitions.add(\"selected\", 0);\n        attributeDefinitions.add(\"name\", undefined).setType(Attribute.STRING);\n\n        attributeDefinitions.addInherited(\"enableDeleteWhenEmpty\", \"tabSetEnableDeleteWhenEmpty\");\n        attributeDefinitions.addInherited(\"enableDrop\", \"tabSetEnableDrop\");\n        attributeDefinitions.addInherited(\"enableDrag\", \"tabSetEnableDrag\");\n        attributeDefinitions.addInherited(\"enableDivide\", \"tabSetEnableDivide\");\n        attributeDefinitions.addInherited(\"enableMaximize\", \"tabSetEnableMaximize\");\n        attributeDefinitions.addInherited(\"classNameTabStrip\", \"tabSetClassNameTabStrip\");\n        attributeDefinitions.addInherited(\"classNameHeader\", \"tabSetClassNameHeader\");\n        attributeDefinitions.addInherited(\"enableTabStrip\", \"tabSetEnableTabStrip\");\n        attributeDefinitions.addInherited(\"borderInsets\", \"tabSetBorderInsets\");\n        attributeDefinitions.addInherited(\"marginInsets\", \"tabSetMarginInsets\");\n\n        attributeDefinitions.addInherited(\"headerHeight\", \"tabSetHeaderHeight\");\n        attributeDefinitions.addInherited(\"tabStripHeight\", \"tabSetTabStripHeight\");\n        return attributeDefinitions;\n    }\n}\n\nexport default TabSetNode;\n"],"sourceRoot":""}